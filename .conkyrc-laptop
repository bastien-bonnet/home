# Use Xft?
use_xft yes
xftfont DejaVu Sans:size=6
xftalpha 0.8
text_buffer_size 2048

# Update interval in seconds
update_interval 1

# This is the number of times Conky will update before quitting.
# Set to zero to run forever.
total_run_times 0


# Use double buffering (reduces flicker, may not work for everyone)
double_buffer yes

# Minimum size of text area
minimum_size 250
maximum_width 250

# Draw shades?
draw_shades no

# Draw outlines?
draw_outline no


# BORDERS
# Draw borders around text
draw_borders no

# Stippled borders?
stippled_borders 0

# border margins
border_inner_margin 20

# border width
border_width 1

# Default colors and also border colors
default_color lightgrey
own_window_colour white

# Text alignment, other possible values are commented
alignment middle_right

# Gap between borders of screen and text
# same thing as passing -x at command line
gap_x 50
gap_y 0

# Subtract file system buffers from used memory?
no_buffers yes

# set to yes if you want all text to be in uppercase
uppercase no

# number of cpu samples to average
# set to 1 to disable averaging
cpu_avg_samples 2

# number of net samples to average
# set to 1 to disable averaging
net_avg_samples 2

# Force UTF8? note that UTF8 support required XFT
override_utf8_locale yes

# Add spaces to keep things from moving about?  This only affects certain objects.
use_spacer right


# WINDOW
# Create own window instead of using desktop (required in nautilus)
own_window yes

# If own_window is yes, you may use type normal, desktop or override
own_window_type override
#own_window_type desktop

# Use pseudo transparency with own_window?
own_window_transparent yes

# Window color (if own_window_transparent is set to no)
#own_window_colour 242520

own_window_hints undecorated,below,sticky,skip_taskbar,skip_pager

default_bar_size 40 15

lua_load ~/.conky_bg.lua
lua_draw_hook_pre draw_bg

TEXT

SYSTEM ${hr 2}
${font OpenLogos:size=22}u${font} 
${voffset -22}${alignr}kernel:  ${kernel}${voffset 10}
#
CPU: ${cpu cpu0}% ${alignr}${cpubar 5,130 cpu0}
# To make the following work, you need to do :
# sudo modprobe coretemp
# edit /etc/modules and add the line 'coretemp'
# sudo apt-get install lm-sensors
${font DejaVu Sans:size=7}${alignr}${exec sensors | grep 0: | sed 's/.*\ \ +//' | sed 's/C\ *(.*$//'} - ${exec sensors | grep 1: | sed 's/.*\ \ +//' | sed 's/C\ *(.*$//'} - ${exec sensors | grep 2: | sed 's/.*\ \ +//' | sed 's/C\ *(.*$//'} - ${exec sensors | grep 3: | sed 's/.*\ \ +//' | sed 's/C\ *(.*$//'}${font}

    1: ${cpu cpu1}% #
${voffset -7} ${goto 90}${cpugraph cpu1 16,50 000000 ffffff} ${voffset 17} #
${goto 150}    5: ${cpu cpu5}% #
${voffset -7}${alignr}${cpugraph cpu5 16,50 000000 ffffff} ${voffset -10}
#
    2: ${cpu cpu2}% #
${voffset -7} ${goto 90}${cpugraph cpu2 16,50 000000 ffffff} ${voffset 17} #
${goto 150}    6: ${cpu cpu6}% #
${voffset -7}${alignr}${cpugraph cpu6 16,50 000000 ffffff} ${voffset -10}
#
    3: ${cpu cpu3}% #
${voffset -7} ${goto 90}${cpugraph cpu3 16,50 000000 ffffff} ${voffset 17} #
${goto 150}    7: ${cpu cpu7}% #
${voffset -7}${alignr}${cpugraph cpu7 16,50 000000 ffffff} ${voffset -10}
#
    4: ${cpu cpu4}% #
${voffset -7} ${goto 90}${cpugraph cpu4 16,50 000000 ffffff} ${voffset 17} #
${goto 150}    8: ${cpu cpu8}% #
${voffset -7}${alignr}${cpugraph cpu8 16,50 000000 ffffff}${voffset 7}
#

RAM: $memperc% ${alignr}${membar 10,130}
${alignr}${mem}/${memmax}
GPU: ${nvidia temp}Â°C
    GPU freq.: ${alignr}${nvidia gpufreq} MHz
    Mem freq.: ${alignr}${nvidia memfreq} MHz
    Driver version: ${alignr}${exec nvidia-settings -q  NvidiaDriverVersion | grep Version | sed 's/^.*:\ //'}

Battery: ${alignr}${battery}    ${voffset -5}${alignr}${battery_bar}
#${battery_percent}
#${battery_short}
${voffset -4}${alignr}${battery_time}

HD ${hr 2}
    ${alignr}Trash: ${exec du -ch ~/.local/share/Trash/files/ | grep total | sed 's/\t.*//'}
    Root:${alignr}${fs_bar 4,140 /root}
${alignr}${fs_used /root}/${fs_size /root}

    Media:${alignr}${fs_bar 4,140 /media/DATA}
${alignr}${fs_used /media/DATA}/${fs_size /media/DATA}
NETWORK ${hr 2}   
    eth0 : ${alignr}${addr eth0}
    Up: ${upspeed eth0} ${goto 144}Down: ${downspeed eth0}
    ${upspeedgraph eth0 15,80 000000 ffffff} ${goto 145}${downspeedgraph eth0 15,80 000000 ffffff}    
    
    wlan0 (${wireless_essid wlan0} ${wireless_link_bar 4,20 wlan0} ) : ${alignr}${addr wlan0}
    Up: ${upspeed wlan0} ${goto 144}Down: ${downspeed wlan0}
    ${upspeedgraph wlan0 15,80 000000 ffffff} ${goto 145}${downspeedgraph wlan0 15,80 000000 ffffff}    

PROCESSES ${hr 2}
    > CPU ${goto 195} mem${alignr}cpu 
    ${color 88aadd} ${top name 1}${goto 150}${top pid 1}${goto 195}${top mem 1}${alignr}${top cpu 1}${color lightgrey}
    ${top name 2}${goto 150}${top pid 2}${goto 195}${top mem 2} ${alignr}${top cpu 2}
    ${top name 3}${goto 150}${top pid 3}${goto 195}${top mem 3} ${alignr}${top cpu 3}
    ${top name 4}${goto 150}${top pid 4}${goto 195}${top mem 4} ${alignr}${top cpu 4}

    > MEM
    ${color 88aadd} ${top_mem name 1}${goto 150}${top_mem pid 1}${goto 195}${top_mem mem 1} ${alignr}${top_mem cpu 1}${color lightgrey}
    ${top_mem name 2}${goto 150}${top_mem pid 2}${goto 195}${top_mem mem 2} ${alignr}${top_mem cpu 2}
    ${top_mem name 3}${goto 150}${top_mem pid 3}${goto 195}${top_mem mem 3} ${alignr}${top_mem cpu 3}
    ${top_mem name 4}${goto 150}${top_mem pid 4}${goto 195}${top_mem mem 4} ${alignr}${top_mem cpu 4}

DATE ${hr 2}
${font DejaVu Sans:size=26}${alignr}${time %H:%M}${font}
${font DejaVu Sans:size=12}${alignr}${time %a %b %d %Y}${font}

${voffset -80}
